<div class="section-list-product">
   <div class="container">
      <div class="row">
         <div class="col-md-12">
            <form>
               <div class="form-group search-product">
                  <input type="text" class="form-control" placeholder="Cari berdasarkan merek, tipe, atau kata kunci lain, contoh: acura sedan">
                  <i class="fa fa-search"></i>
               </div>
            </form>
            <div class="button-filter text-center">
               <button class="btn btn-green filter-btn-mobile"><i class="fa fa-filter"></i> Filter</button>
            </div>
         </div>
         <div class="col-md-3">
            <form class="form-filter clearfix">
               <h1><span class="icon_ic-filter"></span> Filters</h1>
               <div class="form-group">
                  <input type="radio" id="test1" name="radio-group" checked>
                  <label for="test1" class="view-filter">Tampilkan Favorit</label>
               </div>
               <div class="form-group">
                  <input type="radio" id="test2" name="radio-group">
                  <label for="test2" class="view-filter">Mobil Rekomendasi</label>
               </div>
               <h2>Tipe Lelang</h2>
               <div class="form-group">
                  <select class="form-control select-custom">
                     <option>Lelang Online</option>
                  </select>
               </div>
               <h2>Kota & Jadwal</h2>
               <div class="form-group">
                  <select class="form-control select-custom">
                     <option>Kota</option>
                  </select>
               </div>
               <div class="form-group">
                  <select class="form-control select-custom">
                     <option>Jadwal</option>
                  </select>
               </div>
               <h2>Jenis Objek Lelang</h2>
               <div class="object-type clearfix">
                  <div class="form-group">
                     <input type="radio" name="tipe-object" id="type_1" class="input-hidden" value="1" />
                     <label for="type_1">
                        <div class="car-type ic ic-Mobil">
                        </div>
                        <p>Mobil</p>
                     </label>
                  </div>
                  <div class="form-group">
                     <input type="radio" name="tipe-object" id="type_2" class="input-hidden" value="2" />
                     <label for="type_2">
                        <div class="motorcycle-type ic ic-Motor">
                        </div>
                        <p>Motor</p>
                     </label>
                  </div>
                  <div class="form-group">
                     <input type="radio" name="tipe-object" id="type_3" class="input-hidden" value="3" />
                     <label for="type_3">
                        <div class="hve-type ic ic-HVE">
                        </div>
                        <p>HVE</p>
                     </label>
                  </div>
                  <div class="form-group">
                     <input type="radio" name="tipe-object" id="type_4" class="input-hidden" value="4" />
                     <label for="type_4">
                        <div class="gadget-type ic ic-Gadget">
                        </div>
                        <p>Gadget</p>
                     </label>
                  </div>
               </div>
               <div id="object1" class="desc-object">
                  <h2>Filter Mobil</h2>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Nomor Polisi</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Model</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Merk</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tipe</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tahun</option>
                     </select>
                  </div>
               </div>
               <div id="object2" class="desc-object">
                  <h2>Filter Motor</h2>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Nomor Polisi</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Model</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Merk</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tipe</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tahun</option>
                     </select>
                  </div>
               </div>
               <div id="object3" class="desc-object">
                  <h2>Filter Alat Berat</h2>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Serial Number</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Model</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Merk</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tipe</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tahun</option>
                     </select>
                  </div>
               </div>
               <div id="object4" class="desc-object">
                  <h2>Filter Unit Gadget</h2>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Serial Number</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Model</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Merk</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tipe</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Processor</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Ram</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>HDD</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Screen</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Operating System</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <select class="form-control select-custom">
                        <option>Tahun</option>
                     </select>
                  </div>
               </div>
               <div class="form-group">
                  <button class="btn btn-green">Filter</button>
               </div>
            </form>
         </div>
         <div class="col-md-9 pl-0">
            <div class="main-right">
               <div id="loadings"></div>
               <!--div class="title-header clearfix" id="loadings">
                  <p>Menampilkan <span>2.240</span> objek lelang untuk “<b>acura sedan</b>” ( <b>1-9</b> dari <b>2.240</b> )</p>
                  <div class="action-header">
                     <button class="btn"><i class="fa fa-download"></i> Download</button>
                     <button class="btn"><i class="fa fa-sort"></i> Sort</button>
                  </div>
               </div-->
               <!--p class="notice clearfix"><span><i class="fa fa-exclamation-circle"></i> Produk telah dimasukkan ke dalam daftar perbandingan</span></p-->
               <div class="content-right product-mob content-load clearfix">
                  <div id="loadlist"></div>
                  <div class="clear"></div>
                  <a href="#" class="hidden-content"></a>
                  <a href="#" class="hidden-content"></a>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<section class="bg-grey related-product">
   <div class="container">
      <div class="row">
         <a href="javascript:void(0)" class="open-compare" id="addcompare" style="display:none">Add Compare <i class="fa fa-plus"></i></a>
      </div>
   </div>
</section>

<section class="compare">
   <div class="container-fluid">
      <div class="row">
         <div class="compare-content">
            <p><i class="fa fa-exclamation"></i> Pilih produk yang akan di bandingkan, minimal 2 produk untuk di compare</p>
            <div class="col-md-12" id="loadContent">
               <!-- Load Content Compare Product -->
            </div>
            <a href="javascript:;" class="close-compare">Tutup <i class="fa fa-times"></i></a>
         </div>
      </div>
   </div>
</section>

<script>
$(document).ready(function() {
   //show compare element
   let linked = '<?php echo site_url('list-compare'); ?>';
   setCompare(linked);

   /*$('.content-load').jscroll({
      loadingHtml: '<img src="<?php echo base_url('assetsfront/images/loader/loading-produk.gif'); ?>" alt="Loading" />',
      autoTrigger: true,
      nextSelector: 'a.hidden-content:last'
   });*/

   $(".select-custom").select2({
      minimumResultsForSearch: -1
   });

   $("input[name$='tipe-object']").click(function() {
      var test = $(this).val();
      $(".desc-object").hide();
      $("#object" + test).show();
   });

   // filter mobile
   $('.filter-btn-mobile').click(function() {
      var hidden = $('.form-filter.filter-mobile').data('hidden');
      $('.filter-btn-mobile').text(hidden ? 'Filter' : 'Filter');
      if(hidden) {
         $('.form-filter.filter-mobile').animate({
            left: '0px'
         }, 500)
      }
      else {
         $('.form-filter.filter-mobile').animate({
            left: '0px'
         }, 500)
      }
   });

   $(".open-compare").click(function() {
      $(".compare").show(500) && $(".open-compare").hide();
   });
   $(".close-compare").click(function() {
      $(".compare").hide(500) && $(".open-compare").show();
   });

   // get list frontend
   $.ajax({
      type: 'GET',
      url: '<?php echo linkservice('stock')."itemstock/getfrontend"; ?>',
      beforeSend: function() {
         $('#loadings').replaceWith('<div id="loadings" class="margin-10px text-align-center"><img src="<?php echo base_url('assetsfront/images/loader/loading-produk.gif'); ?>" alt="Loading" width="200px" /></div>');
      },
      success: function(data) {
         var content = '', datas = data.data;
         for (var i = 0; i < datas.length; i++) {
            let dataz = datas[i], 
            merk = (dataz.merk !== undefined) ? dataz.merk : '',
            seri = (dataz.seri !== undefined) ? dataz.seri : '',
            silinder = (dataz.silinder !== undefined) ? dataz.silinder : '',
            tipe = (dataz.tipe !== undefined) ? dataz.tipe : '',
            model = (dataz.model !== undefined) ? dataz.model : '',
            transmisi = (dataz.transmisi !== undefined) ? dataz.transmisi : '',
            tahun = (dataz.tahun !== undefined) ? dataz.tahun : '',
            FinalPriceItem = (dataz.FinalPriceItem !== undefined) ? dataz.FinalPriceItem : 0;
            let numgrade = '';
            $.ajax({
               type: 'GET',
               url: '<?php echo linkservice('taksasi')."nilaiicar/detail?AuctionItemId='+datas[i].AuctionItemId+'"; ?>',
               success: function(data) {
                  var datax = data.data;
                  numgrade = (datax.TotalEvaluationResult !== undefined) ? datax.TotalEvaluationResult : '?';
                  $.ajax({
                     type: 'GET',
                     url: '<?php echo linkservice('taksasi')."icar/getimage?AuctionItemId='+data.data.AuctionItemId+'"; ?>',
                     success: function(data) {
                        $('#loadings').replaceWith('<div id="loadings"></div>');
                        var compare_data = {
                           "AuctionItemId": dataz.AuctionItemId,
                           "BahanBakar": dataz.bahanbakar,
                           "Image": data.data[0].ImagePath,
                           "Kilometer": dataz.km,
                           "Merk": dataz.merk,
                           "Model": dataz.model,
                           "NoKeur": dataz.nokeur,
                           "NoMesin": dataz.nomesin,
                           "NoPolisi": dataz.nopolisi,
                           "NoRangka": dataz.norangka,
                           "NoSTNK": dataz.nostnk,
                           "Seri": dataz.seri,
                           "Silinder": dataz.silinder,
                           "TaksasiGrade": numgrade,
                           "Tahun": dataz.tahun,
                           "Transmisi": dataz.transmisi,
                           "Tipe": dataz.tipe,
                           "Price": dataz.FinalPriceItem,
                           "Warna": dataz.warnadoc
                        };
                        var json_str = JSON.stringify(compare_data);
                        var lot = (dataz.LotNumb !== null) ? dataz.LotNumb : '???' ;
                        content += '<div class="col-md-4">'+
                                 '<div class="list-product box-recommend">'+
                                 '<a href="<?php echo $link_detail; ?>/'+dataz.AuctionItemId+'">'+
                                 '<div class="thumbnail">'+
                                 '<div class="thumbnail-custom">'+
                                 '<img src="'+data.data[0].ImagePath+'" />'+
                                 '</div>'+
                                 '<div class="overlay-grade">'+
                                 'Grade <span>'+numgrade+'</span>'+
                                 '</div>'+
                                 '<p class="overlay-lot">LOT '+lot+'</p>'+
                                 '</div>'+
                                 '<div class="boxright-mobile">'+
                                 '<h2>'+merk+' '+seri+' '+silinder+' '+tipe+' '+model+' '+transmisi+'</h2>'+
                                 '<span>'+tahun+'</span> <span class="price">Rp. '+currency_format(FinalPriceItem)+'</span>'+
                                 '<p><span>Jadwal</span> <span class="fa fa-calendar"></span> <span>Belum Tersedia</span></p>'+
                                 '<p><span>Lokasi</span> <span class="fa fa-map-marker"></span> <span>Belum Tersedia</span></p>'+
                                 '</div>'+
                                 '</a>'+
                                 '<div class="action-bottom">'+
                                 '<button class="btn"><i class="fa fa-heart"></i> <span>Favorit</span></button>'+
                                 '<button class="btn btn-compare" onclick=\'set_compare_product('+json_str+', "'+linked+'")\'><i class="ic ic-Bandingkan-green"></i> <span>Bandingkan</span></button>'+
                                 '</div>'+
                                 '</div>'+
                                 '</div>';
                        $('#loadlist').html(content);
                     }
                  });
               }
            });
         }
      }
   });
});
</script>